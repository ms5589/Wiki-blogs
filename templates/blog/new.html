<html>
<head>
<style type= "text/css">
    h1{ color: yellow;}
    span.show {color:red;}
    body{ background-color: black;}
    p{color: #ffcc00; font-size: 25px;}
    a{color: #ffcc00; font-size: 25px;}
    a:hover {color: red; font-size: 50px;}
    h4{color: black;}
</style>
</head>
<body>
  <% content.title = "Create a Blog" %>
  <fieldset><form action="/blog" method="POST">
  <p>
    <label for="title">Title:</label></br>
    <input name="title" type="text" autocomplete="off" style="font-size: 16px; width: 1000px; height: 40px;"/> </br> </br>
  
    <label for="body">Write here:</label></br>
    <input name="body" type="text" id="body" onkeyup="myFunction()" autocomplete="off" style= "margin-top:0px; font-size: 23px; width: 1000px; height: 200px;"/> </br> </br>
 
    <input type="submit" value= "Save" onclick="addPost" style="width: 100px; color:black; background-color: #ffffcc;font-size: 25px;"/>
  </p>

</form>
<a href="/blog/">List of Blogs</a></br>
<a href="/index"> Home Page</a>
<h4> i am just going to be in background color so no one can see me </h4></fieldset>
<script>
//changeColor();
//Save.disable = true;
function addPost()
{
  //formdata
  //alert(event);
  event.preventDefault();
  console.log(body.value);
  var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4) {
      alert("I'm from if state", xhttp.responseText);
        document.getElementById("demo").innerHTML += xhttp.responseText;
    }  
  };  

  xhttp.open("POST", "/blog", true);
  xhttp.send();
}

function myFunction()
{
  var text = document.getElementById("body");
  var keywords = [ ];
//  alert(keywords);
  
  //text.value = text.value.toLowerCase();

   if(findWord(body.value) == "true")
   {
      text.style.backgroundColor = "white"; 
      keywords =  findTarget(body.value);
      //for(var x=0; x< keywords.length; x++)
      //text.value = (text.value).replace(keywords[x], <span id=keywords[x] class= "show">keywords[x]</span>);
   }

   else
   document.getElementById("body").style.backgroundColor = "yellow";
}

function findWord(word)
{
  //alert(word);
 var sn = word;
 var word = sn.split(" ");
 var flag = "init";
 var targets= [ ];

 var words = ["string", "int ", "str", "new", "var", "bool", "function", "value", "if", "else", "for", "while", "switch", " document", "null", "return", "public", "private", "eval", "let", "in", "false", "true", "try", "delete", "break", "catch", "const", "length", " "];
    //alert(word[0]); if(words[0]==word[1]) alert(words[8]);

 for(var i=0; i<word.length; i++)
 { 
   for(var j=0; j<words.length; j++)
   {
     if(words[j]==word[i])
     {
       flag = "true";
       //targets.push[word][j];
     }
   }
  }
  return flag;
}

function findTarget(word)
{
  //alert(word);
 var sn = word;
 var word = sn.split(" ");
 var flag = "init";
 var targets= [ ];

 var words = ["string", "int", "str", "new", "var", "bool", "function", "value", "if", "else", "for", "while", "switch", " document", "null", "return", "public", "private", "eval", "let", "in", "false", "true", "try", "delete", "break", "catch", "const", "length", " "];
    //alert(word[0]); if(words[0]==word[1]) alert(words[8]);

 for(var i=0; i<word.length; i++)
 { 
   for(var j=0; j<words.length; j++)
   {
     if(words[j]==word[i])
     {
       flag = "true";
       targets.push(word[i]);
       //alert(targets);
     }
   }
  }
  return targets;
}

</script>
</body>


</html>